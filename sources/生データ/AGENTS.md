# AGENTS.md - Codex/OpenAI Agent規約

*このファイルはOpenAI Codex CLIおよびエージェントが読み込むプロジェクト規約です。*
*配置場所: リポジトリルート または ~/.codex/AGENTS.md（グローバル）*

---

## プロジェクト概要
<!-- プロジェクトの簡潔な説明 -->

## 技術スタック
- 言語: 
- フレームワーク: 
- パッケージマネージャ: 
- テストフレームワーク: 

---

## 作業ルール

### 基本フロー
1. `WORK/` 配下でのみ作業する
2. 変更前に `TICKET.md` を確認する
3. 大きな変更は事前に計画を提示する
4. 完了後は変更内容を要約する

### コミット規約
```
<type>(<scope>): <subject>

type: feat, fix, docs, style, refactor, test, chore
scope: 変更対象のモジュール/機能
subject: 変更内容の要約（50文字以内）
```

### ブランチ戦略
- `main` - 本番リリース
- `develop` - 開発統合
- `feature/*` - 機能開発
- `bugfix/*` - バグ修正

---

## 許可された操作

### ファイル操作
- 開発用ディレクトリへの読み書き
- テストファイルの作成・編集
- ドキュメントの更新

### コマンド実行
- `npm/yarn/pnpm` コマンド
- `git` 基本操作（add, commit, status, diff, log）
- テスト実行
- lint/format実行
- ビルド実行

---

## 禁止事項

### ファイル操作
- `SSOT/`, `VAULT/`, `RELEASE/` への書き込み
- `.git/` の直接操作
- 機密ファイル（.env, credentials）の読み取り・公開

### コマンド
- `rm -rf` （再帰的削除）
- `git reset --hard`
- `git push --force`
- `git rebase` （共有ブランチ上で）
- 本番環境への直接デプロイ

### パターン
- 全域リライト（ファイル全体の書き換え）
- 無承認の自動実行
- 依存関係の大規模アップグレード（事前承認なし）

---

## 出力フォーマット

### 実装完了時
```markdown
## 変更内容
- [ファイル]: [変更概要]

## テスト
- [テスト名]: [カバー内容]

## 確認コマンド
```bash
npm test
```
```

### エラー発生時
```markdown
## エラー内容
[エラーメッセージ]

## 原因
[推定原因]

## 修正案
1. [案1]
2. [案2]
```

---

## コンテキスト優先順位
1. このファイル（AGENTS.md）
2. TICKET.md（タスク仕様）
3. 既存コード（スタイル参照）
4. プロジェクトドキュメント

---

## セキュリティ要件
- 機密情報をログに出力しない
- 外部APIキーをハードコードしない
- ユーザー入力は必ずサニタイズ
- SQLインジェクション対策を行う

---

*Last updated: YYYY-MM-DD*
